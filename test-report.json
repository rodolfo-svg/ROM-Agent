{
  "timestamp": "2026-02-04T05:00:37.843Z",
  "summary": {
    "total": 18,
    "passed": 10,
    "failed": 8,
    "successRate": 55.6
  },
  "results": [
    {
      "name": "1.1 Health Check",
      "url": "http://localhost:3000/api/info",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 38,
      "data": {
        "nome": "ROM",
        "versao": "2.8.0",
        "version": "2.8.0",
        "capacidades": [
          "Redação de peças jurídicas (cíveis, criminais, trabalhistas, etc)",
          "Pesquisa de legislação nacional e internacional",
          "Consulta de jurisprudência em todos os tribunais",
          "Análise e extração de processos judiciais",
          "Correção ortográfica e gramatical",
          "Formatação profissional com papel timbrado",
          "Criação de tabelas, fluxogramas e linhas do tempo",
          "Busca de artigos científicos jurídicos"
        ],
        "health": {
          "status": "healthy",
          "uptime": "13h 47m",
          "uptimeSeconds": 49644
        },
        "bedrock": {
          "status": "connected",
          "region": "us-east-1",
          "credentials": {
            "hasAccessKeyId": true,
            "hasSecretAccessKey": true,
            "hasRegion": true
          }
        },
        "cache": {
          "enabled": true,
          "activeSessions": 0
        },
        "server": {
          "nodeVersion": "v25.2.1",
          "platform": "darwin",
          "arch": "arm64",
          "pid": 31442,
          "gitCommit": "9b0eed1"
        },
        "memory": {
          "rss": "114 MB",
          "heapTotal": "171 MB",
          "heapUsed": "166 MB",
          "external": "23 MB"
        },
        "storage": {
          "isRender": false,
          "hasRenderEnv": false,
          "renderServiceName": "not set",
          "uploadFolder": "not set",
          "extractedFolder": "not set",
          "processedFolder": "not set",
          "varDataExists": false,
          "varDataIsDir": false,
          "varDataPermissions": null,
          "varDataError": null,
          "varExists": true,
          "varContents": [
            "OOPJit",
            "agentx",
            "at",
            "audit",
            "backups",
            "boot",
            "containers",
            "db",
            "dextcores",
            "dirs_cleaner",
            "empty",
            "folders",
            "install",
            "jabberd",
            "lib",
            "log",
            "logs",
            "ma",
            "mail",
            "msgs",
            "netboot",
            "networkd",
            "personalized_factory",
            "protected",
            "root",
            "rpc",
            "run",
            "select",
            "sntpd",
            "spool",
            "tmp",
            "vm",
            "yp"
          ],
          "varError": null,
          "activePaths": {
            "upload": "/Users/rodolfootaviopereiradamotaoliveira/ROM-Agent/upload",
            "extracted": "/Users/rodolfootaviopereiradamotaoliveira/ROM-Agent/extracted",
            "processed": "/Users/rodolfootaviopereiradamotaoliveira/ROM-Agent/processed"
          }
        },
        "frontend": {
          "distPath": "/Users/rodolfootaviopereiradamotaoliveira/ROM-Agent/frontend/dist",
          "distExists": true,
          "indexExists": true,
          "assetsExists": true,
          "assetsCount": 85,
          "jsFilesCount": 42,
          "sampleJsFiles": [
            "CaseProcessorPage-CLFuAd8K.js",
            "CertidoesPage-BiWVMDOd.js",
            "ChatPage-DFvqO5Vb.js",
            "CustomInstructionsPage-OVi4iZOr.js",
            "DashboardPage-BgtNkux2.js"
          ]
        },
        "tools": {
          "available": true,
          "count": 6,
          "tools": [
            {
              "name": "pesquisar_jurisprudencia",
              "description": "Pesquisa jurisprudência nos tribunais brasileiros (STF, STJ, CNJ DataJud) e retorna precedentes rele"
            },
            {
              "name": "consultar_cnj_datajud",
              "description": "Consulta processo judicial especifico na base do CNJ DataJud (Conselho Nacional de Justica). Use qua"
            },
            {
              "name": "pesquisar_sumulas",
              "description": "Pesquisa súmulas, temas, IRDR e teses jurisprudenciais dos tribunais superiores (STF, STJ, TST, TSE)"
            },
            {
              "name": "consultar_kb",
              "description": "Consulta documentos já processados na Knowledge Base do usuário. Use quando o usuário mencionar \"o d"
            },
            {
              "name": "pesquisar_doutrina",
              "description": "Busca artigos jurídicos, análises doutrinárias, teses e dissertações em fontes especializadas (Googl"
            },
            {
              "name": "create_artifact",
              "description": "Cria um artifact (documento estruturado) que aparece em painel lateral para download. Use SEMPRE que"
            }
          ]
        },
        "searchServices": {
          "googleSearch": {
            "enabled": true,
            "configured": true,
            "hasApiKey": true,
            "hasCx": true
          },
          "datajud": {
            "enabled": true,
            "configured": true,
            "hasApiKey": true,
            "baseUrl": "https://api-publica.datajud.cnj.jus.br"
          },
          "jusbrasil": {
            "enabled": false,
            "note": "Substituído por Google Search que indexa JusBrasil"
          }
        },
        "timestamp": "2026-02-04T05:00:35.433Z"
      }
    },
    {
      "name": "1.2 Estatísticas",
      "url": "http://localhost:3000/api/stats",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 1,
      "data": {
        "success": true,
        "conversations": {
          "total": 36,
          "totalMessages": 56
        },
        "cache": {
          "activeSessions": 0,
          "hitRate": 0
        },
        "kb": {
          "totalDocuments": 0
        },
        "performance": {
          "averageResponseTime": 3,
          "unit": "seconds"
        },
        "timestamp": "2026-02-04T05:00:35.438Z"
      }
    },
    {
      "name": "2.1 Listar Conversas Organizadas",
      "url": "http://localhost:3000/api/conversations/organized",
      "status": 503,
      "expected": 200,
      "passed": false,
      "duration": 2,
      "data": {
        "success": false,
        "error": "Banco de dados indisponível"
      }
    },
    {
      "name": "2.2 Enviar Mensagem ao Chat",
      "url": "http://localhost:3000/api/chat",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 2367,
      "data": {
        "response": "OK",
        "conversationId": "conv_1770181235443_59ut83",
        "metadados": {},
        "recomendacoes": [],
        "verificacaoRealizada": false
      }
    },
    {
      "name": "2.3 Obter Conversa Específica",
      "url": "http://localhost:3000/api/conversations/conv_1770181235443_59ut83",
      "status": 503,
      "expected": 200,
      "passed": false,
      "duration": 3,
      "data": {
        "success": false,
        "error": "Banco de dados indisponível"
      }
    },
    {
      "name": "2.4 Renomear Conversa",
      "url": "http://localhost:3000/api/conversations/conv_1770181235443_59ut83/rename",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 6,
      "data": {
        "success": true
      }
    },
    {
      "name": "2.5 Criar Nova Conversa",
      "url": "http://localhost:3000/api/conversations",
      "status": 503,
      "expected": 200,
      "passed": false,
      "duration": 3,
      "data": {
        "success": false,
        "error": "Banco de dados indisponível"
      }
    },
    {
      "name": "3.1 Listar Documentos KB",
      "url": "http://localhost:3000/api/kb/documents",
      "status": 302,
      "expected": 200,
      "passed": false,
      "duration": 4,
      "data": "Found. Redirecting to /login.html"
    },
    {
      "name": "3.2 Status KB",
      "url": "http://localhost:3000/api/kb/status",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 3,
      "data": {
        "success": true,
        "status": "active",
        "totalDocuments": 2,
        "totalSize": 3897,
        "totalSizeFormatted": "0.00 MB",
        "lastUpdate": "2026-02-04T05:00:35.282Z",
        "kbPath": "/Users/rodolfootaviopereiradamotaoliveira/ROM-Agent/data/knowledge-base"
      }
    },
    {
      "name": "4.1 Status de Autenticação",
      "url": "http://localhost:3000/api/auth/status",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 2,
      "data": {
        "authenticated": false,
        "username": null,
        "partnerId": "rom"
      }
    },
    {
      "name": "4.2 Login",
      "url": "http://localhost:3000/api/auth/login",
      "status": 503,
      "expected": 200,
      "passed": false,
      "duration": 4,
      "data": {
        "success": false,
        "error": "Banco de dados temporariamente indisponível"
      }
    },
    {
      "name": "5.1 Listar Projetos",
      "url": "http://localhost:3000/api/projects/list",
      "status": 404,
      "expected": 200,
      "passed": false,
      "duration": 2,
      "data": {
        "error": "Projeto não encontrado",
        "message": "Projeto não encontrado"
      }
    },
    {
      "name": "6.1 Busca Semântica",
      "url": "http://localhost:3000/api/semantic-search",
      "status": 403,
      "expected": 200,
      "passed": false,
      "duration": 1,
      "data": {
        "success": false,
        "error": "CSRF token inválido",
        "code": "CSRF_TOKEN_INVALID"
      }
    },
    {
      "name": "6.2 Listar Templates",
      "url": "http://localhost:3000/api/templates/list",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 1,
      "data": []
    },
    {
      "name": "6.3 Status de Backups",
      "url": "http://localhost:3000/api/backup/status",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 2,
      "data": [
        {
          "filename": "backup-2026-02-03.zip",
          "size": 398565,
          "timestamp": "2026-02-03T06:00:01.103Z"
        },
        {
          "filename": "backup-2026-01-30.zip",
          "size": 353754,
          "timestamp": "2026-01-30T06:00:02.429Z"
        },
        {
          "filename": "backup-2026-01-29.zip",
          "size": 344993,
          "timestamp": "2026-01-29T06:00:03.125Z"
        },
        {
          "filename": "backup-2026-01-28.zip",
          "size": 334497,
          "timestamp": "2026-01-28T06:00:02.094Z"
        }
      ]
    },
    {
      "name": "6.4 Estatísticas de Cache",
      "url": "http://localhost:3000/api/cache/statistics",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 1,
      "data": {
        "success": true,
        "stats": {
          "enabled": true,
          "activeSessions": 1,
          "totalAgents": 1,
          "cacheType": "in-memory",
          "ttl": "30min"
        }
      }
    },
    {
      "name": "7.1 Pesquisa de Jurisprudência (Mock)",
      "url": "http://localhost:3000/api/jurisprudencia/buscar",
      "status": 403,
      "expected": 404,
      "passed": false,
      "duration": 1,
      "data": {
        "success": false,
        "error": "CSRF token inválido",
        "code": "CSRF_TOKEN_INVALID"
      }
    },
    {
      "name": "8.1 Página Principal (HTML)",
      "url": "http://localhost:3000/",
      "status": 200,
      "expected": 200,
      "passed": true,
      "duration": 1,
      "data": "<!DOCTYPE html>\n<html lang=\"pt-BR\">\n  <head>\n    <meta charset=\"UTF-8\" />\n\n    <!-- Viewport with iOS notch support -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover\" />\n\n    <!-- PWA Meta Tags -->\n    <meta name=\"theme-color\" content=\"#D97706\" />\n    <meta name=\"theme-color\" media=\"(prefers-color-scheme: light)\" content=\"#D97706\" />\n    <meta name=\"theme-color\" media=\"(prefers-color-scheme: dark)\" content=\"#78716C\" />\n\n    <!-- iOS PWA Meta Tags -->\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\n    <meta name=\"apple-mobile-web-app-title\" content=\"ROM Agent\" />\n    <meta name=\"mobile-web-app-capable\" content=\"yes\" />\n\n    <!-- iOS Status Bar -->\n    <meta name=\"apple-touch-fullscreen\" content=\"yes\" />\n\n    <!-- Disable iOS phone number detection -->\n    <meta name=\"format-detection\" content=\"telephone=no\" />\n\n    <!-- Standard Icons -->\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\n    <link rel=\"manifest\" href=\"/manifest.json\" />\n\n    <!-- Apple Touch Icons (iOS Home Screen) -->\n    <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/icons/icon-180x180.png\" />\n    <link rel=\"apple-touch-icon\" sizes=\"192x192\" href=\"/icons/icon-192x192.png\" />\n    <link rel=\"apple-touch-icon\" sizes=\"512x512\" href=\"/icons/icon-512x512.png\" />\n\n    <!-- iOS Splash Screens -->\n    <link rel=\"apple-touch-startup-image\" media=\"screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)\" href=\"/splash/iphone-14-pro-max-portrait.png\" />\n    <link rel=\"apple-touch-startup-image\" media=\"screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)\" href=\"/splash/iphone-14-pro-portrait.png\" />\n    <link rel=\"apple-touch-startup-image\" media=\"screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)\" href=\"/splash/iphone-13-portrait.png\" />\n    <link rel=\"apple-touch-startup-image\" media=\"screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)\" href=\"/splash/iphone-x-portrait.png\" />\n    <link rel=\"apple-touch-startup-image\" media=\"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)\" href=\"/splash/iphone-11-portrait.png\" />\n    <link rel=\"apple-touch-startup-image\" media=\"screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)\" href=\"/splash/iphone-8-portrait.png\" />\n\n    <!-- SEO -->\n    <meta name=\"description\" content=\"Assistente Jurídico Inteligente com IA - Análise Processual Completa\" />\n    <meta name=\"keywords\" content=\"assistente jurídico, IA, análise processual, direito, advocacia\" />\n\n    <title>ROM Agent - Assistente Jurídico Inteligente</title>\n    <script type=\"module\" crossorigin src=\"/assets/index-CweocpJN.js\"></script>\n    <link rel=\"stylesheet\" crossorigin href=\"/assets/index-BYZfzjX9.css\">\n  </head>\n  <body>\n    <div id=\"root\"></div>\n  </body>\n</html>\n"
    }
  ]
}