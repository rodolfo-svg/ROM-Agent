import{j as e,U as f,l as j,w as b,F as N,x as v,v as g,y as w}from"./ui-DIb4OZiY.js";import{a as t}from"./vendor-Dc3V-jfM.js";import{S as y}from"./Sidebar-Dd7tJQ2R.js";import"./index-wjvp53lN.js";function E(){const[i,d]=t.useState([]),[x,m]=t.useState(!0),[r,h]=t.useState(""),[n,c]=t.useState(!1);t.useEffect(()=>{l()},[]);const l=async()=>{try{const a=await(await fetch("/api/case-processor/cases",{credentials:"include"})).json();a.success&&d(a.cases||[])}catch(s){console.error("Failed to fetch cases:",s)}finally{m(!1)}},p=async s=>{c(!0);try{const a=new FormData;Array.from(s).forEach(u=>a.append("files",u)),(await(await fetch("/api/case-processor/process",{method:"POST",credentials:"include",body:a})).json()).success&&await l()}catch(a){console.error("Processing error:",a)}finally{c(!1)}},o=i.filter(s=>s.caseNumber.includes(r)||s.title.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"h-screen flex bg-stone-50",children:[e.jsx(y,{}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsxs("div",{className:"bg-white border-b border-stone-200 px-8 py-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-stone-800 mb-2",children:"Processos Judiciais"}),e.jsx("p",{className:"text-stone-500",children:"Gerencie e analise processos judiciais"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-soft p-6 mb-6",children:e.jsxs("div",{className:"border-2 border-dashed border-stone-300 rounded-xl p-8 text-center hover:border-bronze-400 hover:bg-bronze-50/50 transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx",onChange:s=>s.target.files&&p(s.target.files),className:"hidden",id:"case-upload",disabled:n}),e.jsxs("label",{htmlFor:"case-upload",className:"cursor-pointer",children:[e.jsx(f,{className:"w-10 h-10 text-stone-400 mx-auto mb-3"}),e.jsx("p",{className:"text-lg font-medium text-stone-700 mb-1",children:n?"Processando...":"Upload de Processo"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Envie PDFs de processos judiciais para análise automática"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por número ou nome do processo...",value:r,onChange:s=>h(s.target.value),className:"w-full h-12 pl-12 pr-4 bg-white border border-stone-200 rounded-xl text-stone-700 placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-bronze-400/30 focus:border-bronze-400"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-stone-100",children:e.jsxs("h2",{className:"font-semibold text-stone-800",children:["Processos (",o.length,")"]})}),x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-10 h-10 border-2 border-bronze-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-stone-500",children:"Carregando processos..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("p",{className:"text-stone-500",children:"Nenhum processo encontrado"})]}):e.jsx("div",{className:"divide-y divide-stone-100",children:o.map(s=>e.jsxs("div",{className:"px-6 py-5 hover:bg-stone-50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-bronze-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-stone-800",children:s.caseNumber}),e.jsx("span",{className:"px-2 py-0.5 bg-bronze-100 text-bronze-700 text-xs rounded-full",children:s.status})]}),e.jsx("p",{className:"text-stone-600 text-sm mb-2",children:s.title})]})]})}),e.jsxs("div",{className:"ml-8 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-stone-500",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:s.parties.plaintiff})]}),e.jsxs("div",{className:"flex items-center gap-2 text-stone-500",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:s.parties.defendant})]}),e.jsxs("div",{className:"flex items-center gap-2 text-stone-500",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString("pt-BR")})]})]})]},s.id))})]})]})})]})]})}export{E as CaseProcessorPage};
