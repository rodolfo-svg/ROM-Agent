# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ROM AGENT - CONFIGURAÃ‡ÃƒO RENDER.COM
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ServiÃ§o Web Principal - Interface Claude AI + API Bedrock
# Deploy automÃ¡tico via GitHub (main branch)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

services:
  - type: web
    name: rom-agent
    runtime: node
    plan: free

    # â•â•â• BUILD â•â•â•
    buildCommand: |
      echo "ğŸ”§ Instalando dependÃªncias..."
      npm ci --only=production
      echo "âœ… Build concluÃ­do"

    # â•â•â• START â•â•â•
    startCommand: npm run web:enhanced

    # â•â•â• VARIÃVEIS DE AMBIENTE â•â•â•
    envVars:
      # Node.js
      - key: NODE_ENV
        value: production

      # Porta (Render usa 10000)
      - key: PORT
        value: 10000

      # AWS Bedrock (obrigatÃ³rio)
      - key: AWS_ACCESS_KEY_ID
        sync: false
      - key: AWS_SECRET_ACCESS_KEY
        sync: false
      - key: AWS_REGION
        value: us-east-1

      # Anthropic (alternativo)
      - key: ANTHROPIC_API_KEY
        sync: false

      # DataJud (consulta jurisprudÃªncia)
      - key: DATAJUD_API_KEY
        sync: false

      # Session Secret (auto-gerado)
      - key: SESSION_SECRET
        generateValue: true

      # Rate Limiter
      - key: RATE_LIMIT_PER_MINUTE
        value: 10
      - key: RATE_LIMIT_PER_HOUR
        value: 100

    # â•â•â• HEALTH CHECK â•â•â•
    healthCheckPath: /api/info

    # â•â•â• RECURSOS â•â•â•
    disk:
      name: rom-storage
      mountPath: /var/data
      sizeGB: 1

    # â•â•â• AUTO-DEPLOY â•â•â•
    autoDeploy: true

    # â•â•â• DOMÃNIOS â•â•â•
    domains:
      - iarom.com.br
      - www.iarom.com.br
